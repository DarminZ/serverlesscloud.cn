---
title: COS 数据工作流 + Serverless云函数自定义处理能力发布！
description: 满足用户自研定制化需求的同时，让开发者只需专注于核心业务逻辑研发，使生产力得到极大的释放，降本增效。
date: 2021-08-05
thumbnail: https://main.qcloudimg.com/raw/ff2ca2a675b599a97ba68407b3a6b35b.jpg
categories:
  - best-practice
authors:
  - 腾讯云存储
tags:
  - Serverless
  - 云函数
---



在工业 4.0 的浪潮下，智能和数据与物理世界结合越加紧密，多元化、灵活、高效的数据处理能力成为各行各业的热点需求。虽然对象存储 COS 已经预置电商、文创、教育、社交、安防等行业需要的基础数据处理能力，但在特殊流程和定制化需求方面公有云依然难以做到全方位满足客户需求。



## 01. 数据工作流全新能力出炉：支持自定义云函数



COS 数据工作流是一套完整的端到云到端的数据存储、处理、发布等「一站式」云上智能解决方案。

**COS 数据工作流最新增加了自定义函数的处理能力，开发者可添加 Serverless 云函数节点，实现业务具体的定制需求。**

Serverless 云函数在 COS 自身数据处理能力之外，为用户提供更多可能性，满足用户自研定制化需求的同时，让开发者只需专注于核心业务逻辑研发，使生产力得到极大的释放，降本增效。

<img src="https://main.qcloudimg.com/raw/69fe1a9b67c6247b9c4d36a32b841511.png" width="700"/>

在 COS 工作流 + 云函数结合的工作模式下，可以解决各行业不同用户的定制化流程痛点，满足大批量的定制化需求。



## 02. 「COS 工作流 + 云函数」方案优势

- **低成本**

毫秒粒度按量计费，在空闲时自动缩容，极大节省服务器成本。与传统本地转码相比，成本可以降低 60% 以上；

- **高并发**

根据请求自动调整服务资源，支持上万台计算节点同时扩容，消除并发压力；

- **灵活定制**

可根据业务需要，自定义函数的处理逻辑，也可平滑迁移本地逻辑上云，满足开发者不同场景需求；

- **加速开发**

聚焦业务开发，无需要关注资源运维与组件开销，降低服务架构搭建的复杂性与运维成本；



## 03. 「COS 工作流 + 云函数」最佳实践

数据工作流作为一种功能强大、灵活易用的数据处理云上智能解决方案，在不同的场景下有不同的应用方案。根据 COS 用户使用工作流的共性需求，我们提供了两个使用场景的最佳实践：

**1. 自定义转码**

公有云虽然提供大量的视频处理服务供用户选择，但依然不能做到全面覆盖用户的特殊流程及定制化需求，使用 COS 工作流结合云函数定制逻辑就是一个绝佳选择，帮助用户快速创建满足各种需求的音视频处理服务。

- **操作说明**

创建工作流的自定义函数节点时，选择「COS 数据工作流音视频转码」，即可实现自定义的转码。

<img src="https://main.qcloudimg.com/raw/927d3cec9ce37bb1a08be48d51c7b4da.png" width="700"/>



**2. 计算文件校验值**

COS 文件上传下载场景下，为保证文件完整性，用户需要计算文件的哈希值。目前 COS 只提供 CRC64 值，当用户需要使用 MD5、SHA1、SHA256 值校验时 ，可使用工作流结合自定义函数模板。

- **操作说明**

创建工作流的自定义函数节点时，选择「计算 COS 对象的哈希值」，即可自动执行文件哈希值计算，以下截图是计算后的哈希值示例。

<img src="https://main.qcloudimg.com/raw/cb1d982e97d248e66d0cba23bf8a913a.png" width="500"/>

还有更多自定义处理能力，等你来实现！



## 04. 更多 COS 应用集成服务

对象存储 COS 控制台上还集成连接了多种应用服务，为用户提供更加便捷、稳定的数据处理工具，例如：

### 数据迁移

**1. 在线数据迁移（MSP）**

帮助用户从各类公有云将数据迁移导入到腾讯云对象存储，获得 COS 高扩展、低成本、安全可靠的专业数据存储服务。



**2. 离线数据迁移（CDM）**

是腾讯云提供的 TB-PB 级的数据上云服务，使用专用的迁移设备将数据从您的本地数据中心快速高效地迁移上云。



### 数据备份

**1. TDMQ 消息备份**

支持将 TDMQ Topic 下的消息转储至指定存储桶中，以便于对消息数据进行分析与下载等操作。



**2. CDN 日志备份**

支持将 CDN 访问日志转储至指定存储桶中，以便于用户通过日志进行热门资源分析、活跃用户分析或用于计算平均响应时间、平均下载速度等指标。



**3. MySQL 备份**

支持将云数据库 MySQL 的备份文件投递至指定存储桶中，协助用户将数据库文件进行持久化保存，以防止数据丢失或损坏。



……



还有其他各种丰富的应用集成服务，欢迎大家前往体验使用！

- 控制台地址：https://console.cloud.tencent.com/cos5/application

<img src="https://main.qcloudimg.com/raw/e87dc1e8176b210faa6b968cbcae49b6.png" width="700"/>



更多关于 COS 数据工作流解决方案，可以前往 [**《数据工作流 | 一站式云上数据智能解决方案》**](https://mp.weixin.qq.com/s?__biz=MzIxNjgyMDk4OQ==&mid=2247486714&idx=1&sn=8d3aa41a1aa882c7fd8a70f896b40e75&chksm=97827168a0f5f87ee6cb91b6eb0a534323f3835c21b03eb464477de2ea08e899b55de2ffdc65&scene=21&version=3.1.11.90266&platform=mac#wechat_redirect)了解详情。**「COS 工作流 + Serverless 云函数」**更设有低至 **1** 元专属资源包，限量发放！[**点击立即领取**](https://cloud.tencent.com/act/pro/cos_scf?from=14773)



------



> **传送门：**
>
> - GitHub: [github.com/serverless](https://github.com/serverless/serverless/blob/master/README_CN.md)
> - 官网：[serverless.com](https://serverless.com/)

欢迎访问：[Serverless 中文网](https://serverlesscloud.cn/)，您可以在 [最佳实践](https://serverlesscloud.cn/best-practice) 里体验更多关于 Serverless 应用的开发！